# Форматирование

Наверняка в школе у вас были тетрадки в клетку и в линейку — для каждого предмета свои.
На уроках математики вы аккуратно писали «2 + 2 = 4», размещая каждый знак в отдельной клетке.
Оставляли пару строк между задачами, чтобы всё выглядело опрятно и не сливалось.

Когда вы стали старше, то преподаватель просил оформлять работы определённым образом:
использовать нужный шрифт, выделять заголовки, проставлять нумерацию страниц и вставлять колонтитулы.
Возможно вы считали, что это подавляет индивидуальность, но делалось это не просто так.

Единый формат облегчает чтение, проверку и сравнение.
Представьте себе, что каждая работа была бы написана в разном стиле — одни ученики используют лист в клетку, другие в линейку третьи вообще без листы без разметки.
Сколько бы времени ушло только на то, чтобы «вникнуть» в текст? Выглядели бы вычесления по математики на листе в линейку красиво? Конечно же нет.

То же самое и с кодом. После того как единый стиль внедрила кампания Google среднее время прохождения кода на ревью сократилось более чем на 30%.
Но не часто это преподают, снижают оценки при обучении и вообще обращают внимание.

Посмотрите на образец небольшого фрагмента кода:

```php
// Плохо ❌
class ChirpController extends Controller {
  public  function index (){
        $chirps = Chirp::with('user')->latest()->get() ;
        return view('chirps.index',[
'chirps' => $chirps] );
    }
    
        public function  update(Request $request , Chirp $chirp)     {
        $chirp->update($request->validated());

        return redirect()->route('chirps.index');
    }
}
```

Код рабочий, компилятор на него не ругается.
Но посмотрите внимательнее: уже на двух методах видно, что стиль гуляет — лишние пробелы, где-то отступ есть, где-то нет, скобки кто как поставил.
Всё это создаёт ощущение небрежности и усложняет чтение.

А ведь исправить это — дело пары минут. И чем раньше вы начнёте обращать внимание на такие вещи, тем проще будет работать с вашим кодом — вам и другим.

### Последовательность важнее вкуса

У каждого разработчика со временем появляются свои привычки. 
Один любит писать скобки на той же строке, другой — на новой. 
Один ставит пробел перед скобкой, другой считает это дурным тоном. Всё это — дело вкуса.

Но вот в чём загвоздка: вкусы у всех разные, а кодовая база — одна.

Допустим, в проекте работают два разработчика. Один оформляет класс так:

```php
class ChirpController extends Controller {
```

А другой — вот так:

```php
class ChirpController extends Controller 
{
```

Каждый из них уверен, что делает правильно — и, возможно, даже может привести весомые аргументы. 
Но если оставить всё как есть, проект превратится в пёстрый винегрет из стилей. Один строка — по одним правилам, другая — по другим. 

Но командный код — это общее пространство. Здесь важнее не то, чей стиль «красивее», а то, чтобы стиль был единым. 
Да, кому-то придётся уступить, нельзя угодить обоим. Но это нормально.
Потому что в команде куда важнее привычка уважать общее, чем настаивать на своём.

Относитесь к этому как государственной форме документа. Есть определенный шаблон, единый для всех граждан.
Неважно, нравится ли вам шрифт, цвет или размер бумаги — **важно, чтобы стиль был единым.**


Если язык программирования достаточно зрелый, то скорее всего у него уже будут общепринятые стандарты. 
Например для PHP есть [`PER`](https://www.php-fig.org/per/coding-style/) — *PHP Extended Recommendation*,
основанным на `PSR-1`, `PSR-2` и `PSR-12`.

Возможно будет очень не привычно, но вы достаточно быстро привыкните и не будете замечать даже отступы и переносы, а сразу читать содержимое.

### Автоматизация

Код в проекте должен выглядеть так, будто его писал один человек.
Даже если над ним работает пятнадцать. Но не писать же комментарий коллеги на каждую строчку кода в ревью?
Это отнимет слишком много времени и превратиться в ерунду.

Что бы избежать этого, есть различные инструменты автоматизации, например `Laravel Pint`, который можно установить через менеджер Composer:

```shell
composer require laravel/pint --dev
```

а затем запустить используя двовичный файл, который доступен в каталоге `vendor/bin` вашего проекта:

```shell
./vendor/bin/pint
```

Он автоматически исправит код:

```php
// Хорошо ✅
class ChirpController extends Controller
{
    public function index()
    {
        $chirps = Chirp::with('user')->latest()->get();

        return view('chirps.index', [
            'chirps' => $chirps,
        ]);
    }

    public function update(Request $request, Chirp $chirp)
    {
        $chirp->update($request->validated());

        return redirect()->route('chirps.index');
    }
}
```
