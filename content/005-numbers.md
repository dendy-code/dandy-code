# Магические числа

~~При написании кода важно избегать использования магических чисел, так как они могут усложнить его понимание и поддержку. Вместо этого, рекомендуется использовать именованные константы или перечисления для повышения читаемости и ясности кода.~~

Никто не начинает изучение проекта с вдумчивого чтения всей вики. 
Разработчик открывает IDE, запускает поиск по имени метода или класса, и — вперёд, прямо в код. 
Только когда поведение становится неочевидным, когда логика не складывается — он обращается к документации, вики или базе знаний, если такая вообще есть.

Рассмотрим распространённую ситуацию:

```php
// Плохо ❌
if ($status == 1) {
    // ...
}
```

На первый взгляд — ничего страшного. Просто проверка статуса.
Но что значит это число `1`? Почему именно оно?

Разработчик, который это писал, наверняка знает, что `1` здесь означает "активный статус".
Но для всех остальных — это магическое число, появившееся из ниоткуда.
Код превращается в загадку: *почему не 0? а 2 — это что? а 1 — это всегда активный?*

Теперь представьте, что этот код читает кто-то вроде меня — из мира Linux.
В Unix-системах код `0` означает успешное завершение, а `1` — **ошибку**.
И я интуитивно читаю этот код иначе: *"О, тут проверяется, что была ошибка?"*
Мои привычки вступают в конфликт с чужими соглашениями — и я начинаю сомневаться в логике самого кода.

А если значение гораздо больше, например:

```php
// Плохо ❌
if ($status == 24) {
    // ...
}
```

Что это значит? День рождения начальника? Номер ошибки? Идентификатор тайного соглашения?


Для решения этой проблемы лучше использовать именованные константы:

```php
// Хорошо ✅
const STATUS_ACTIVE = 1;

if ($status === STATUS_ACTIVE) {
    // ...
}
```

Теперь код стал более понятным и поддерживаемым. При чтении такого кода сразу становится понятно, что означает статус `1`.

Можно также использовать перечисления для явного определения различных значений:

```php
enum Status: string
    case ACTIVE = 'active';
    case INACTIVE = 'inactive';
    case ARCHIVED = 'archived';
}

$status = Status::ACTIVE;

if ($status === Status::ACTIVE) {
    // ...
}
```

```php
enum Status: int
    case ACTIVE = 1;
    case INACTIVE = 2;
    case ARCHIVED = 3;
}

$status = Status::ACTIVE;

if ($status === Status::ACTIVE) {
    // ...
}
```

Такой подход делает код более читаемым и позволяет явно указать доступные значения статуса и использовать как типизированное значение в методах, например:

```php
function myFunction(Status $status)
{
    // ...
}
```

Используя именованные константы или перечисления, мы делаем код более понятным и поддерживаемым, что важно для разработки масштабируемых приложений.


TODO: Нужно не только числа, но и символы, например можно встретить при парсинге чего либо. Тогда стоит переименовать в "Магические числа и символы"?
